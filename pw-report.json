{
  "config": {
    "configFile": "/Users/rahulvijayan/Query/convexia-query/playwright.config.ts",
    "rootDir": "/Users/rahulvijayan/Query/convexia-query/tests/e2e",
    "forbidOnly": false,
    "fullyParallel": false,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 2
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "list",
        null
      ],
      [
        "json",
        {
          "outputFile": "pw-report.json"
        }
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/Users/rahulvijayan/Query/convexia-query/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 2
        },
        "id": "",
        "name": "",
        "testDir": "/Users/rahulvijayan/Query/convexia-query/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.55.1",
    "workers": 5,
    "webServer": {
      "command": "pnpm dev",
      "url": "http://localhost:3000",
      "reuseExistingServer": true,
      "timeout": 120000,
      "env": {
        "VSCODE_CRASH_REPORTER_PROCESS_TYPE": "extensionHost",
        "NODE": "/opt/homebrew/Cellar/node/23.11.0/bin/node",
        "PYENV_ROOT": "/Users/rahulvijayan/.pyenv",
        "INIT_CWD": "/Users/rahulvijayan/Query/convexia-query",
        "SHELL": "/bin/zsh",
        "TERM": "dumb",
        "VSCODE_PROCESS_TITLE": "extension-host  [3-4]",
        "HOMEBREW_REPOSITORY": "/opt/homebrew",
        "TMPDIR": "/var/folders/rk/rw132g3n6zv9hbqb1tw_ctxm0000gn/T/",
        "CONDA_SHLVL": "1",
        "npm_config_global_prefix": "/opt/homebrew",
        "CONDA_PROMPT_MODIFIER": "(base) ",
        "GSETTINGS_SCHEMA_DIR_CONDA_BACKUP": "",
        "CURSOR_TRACE_ID": "32e6d23ab1874f459b31db990467318b",
        "MallocNanoZone": "0",
        "ORIGINAL_XDG_CURRENT_DESKTOP": "undefined",
        "NO_COLOR": "1",
        "COLOR": "0",
        "npm_config_noproxy": "",
        "npm_config_local_prefix": "/Users/rahulvijayan/Query/convexia-query",
        "USER": "rahulvijayan",
        "_CONDA_EXE": "/opt/homebrew/Caskroom/miniforge/base/bin/conda",
        "COMMAND_MODE": "unix2003",
        "CONDA_EXE": "/opt/homebrew/Caskroom/miniforge/base/bin/conda",
        "npm_config_globalconfig": "/opt/homebrew/etc/npmrc",
        "SSH_AUTH_SOCK": "/private/tmp/com.apple.launchd.pYT6Q8EzhX/Listeners",
        "__CF_USER_TEXT_ENCODING": "0x1F5:0x0:0x0",
        "npm_execpath": "/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",
        "ELECTRON_RUN_AS_NODE": "1",
        "_CE_CONDA": "",
        "PATH": "/Users/rahulvijayan/Query/convexia-query/node_modules/.bin:/Users/rahulvijayan/Query/node_modules/.bin:/Users/rahulvijayan/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/rahulvijayan/.codeium/windsurf/bin:/Users/rahulvijayan/.pyenv/shims:/Users/rahulvijayan/.pyenv/shims:/Users/rahulvijayan/.pyenv/bin:/opt/homebrew/opt/python@3.10/bin:/opt/homebrew/opt/python@3.10/bin:/opt/homebrew/opt/python@3.10/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/rahulvijayan/.codeium/windsurf/bin:/opt/homebrew/Caskroom/miniforge/base/bin:/opt/homebrew/Caskroom/miniforge/base/condabin:/Users/rahulvijayan/.pyenv/bin:/opt/homebrew/opt/python@3.10/bin",
        "GSETTINGS_SCHEMA_DIR": "/opt/homebrew/Caskroom/miniforge/base/share/glib-2.0/schemas",
        "XML_CATALOG_FILES": "file:///opt/homebrew/Caskroom/miniforge/base/etc/xml/catalog file:///etc/xml/catalog",
        "SE_MANAGER_PATH_CONDA_BACKUP": "/opt/homebrew/Caskroom/miniforge/base/bin/selenium-manager",
        "npm_package_json": "/Users/rahulvijayan/Query/convexia-query/package.json",
        "CONDA_PREFIX": "/opt/homebrew/Caskroom/miniforge/base",
        "__CFBundleIdentifier": "com.todesktop.230313mzl4w4u92",
        "npm_config_init_module": "/Users/rahulvijayan/.npm-init.js",
        "npm_config_userconfig": "/Users/rahulvijayan/.npmrc",
        "PWD": "/Users/rahulvijayan/Query/convexia-query",
        "npm_command": "run-script",
        "VSCODE_HANDLES_UNCAUGHT_ERRORS": "true",
        "VSCODE_ESM_ENTRYPOINT": "vs/workbench/api/node/extensionHostProcess",
        "EDITOR": "vi",
        "npm_lifecycle_event": "test:ui",
        "LANG": "C.UTF-8",
        "CURSOR_AGENT": "1",
        "npm_package_name": "my-v0-project",
        "NODE_PATH": "/Users/rahulvijayan/Query/convexia-query/node_modules/.pnpm/@playwright+test@1.55.1/node_modules/@playwright/test/node_modules:/Users/rahulvijayan/Query/convexia-query/node_modules/.pnpm/@playwright+test@1.55.1/node_modules/@playwright/node_modules:/Users/rahulvijayan/Query/convexia-query/node_modules/.pnpm/@playwright+test@1.55.1/node_modules:/Users/rahulvijayan/Query/convexia-query/node_modules/.pnpm/node_modules",
        "XPC_FLAGS": "0x0",
        "npm_config_npm_version": "10.9.2",
        "FORCE_COLOR": "0",
        "SE_MANAGER_PATH": "/opt/homebrew/Caskroom/miniforge/base/bin/selenium-manager",
        "npm_config_node_gyp": "/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",
        "XPC_SERVICE_NAME": "0",
        "_CONDA_ROOT": "/opt/homebrew/Caskroom/miniforge/base",
        "_CE_M": "",
        "npm_package_version": "0.1.0",
        "HOME": "/Users/rahulvijayan",
        "PYENV_SHELL": "zsh",
        "SHLVL": "2",
        "VSCODE_NLS_CONFIG": "{\"userLocale\":\"en-us\",\"osLocale\":\"en-us\",\"resolvedLanguage\":\"en\",\"defaultMessagesFile\":\"/Applications/Cursor.app/Contents/Resources/app/out/nls.messages.json\",\"locale\":\"en-us\",\"availableLanguages\":{}}",
        "HOMEBREW_PREFIX": "/opt/homebrew",
        "CONDA_PYTHON_EXE": "/opt/homebrew/Caskroom/miniforge/base/bin/python",
        "LOGNAME": "rahulvijayan",
        "npm_config_cache": "/Users/rahulvijayan/.npm",
        "npm_lifecycle_script": "playwright test",
        "VSCODE_CODE_CACHE_PATH": "/Users/rahulvijayan/Library/Application Support/Cursor/CachedData/3ccce8f55d8cca49f6d28b491a844c699b8719a0",
        "VSCODE_IPC_HOOK": "/Users/rahulvijayan/Library/Application Support/Cursor/1.6.-main.sock",
        "COMPOSER_NO_INTERACTION": "1",
        "CONDA_DEFAULT_ENV": "base",
        "VSCODE_PID": "61765",
        "npm_config_user_agent": "npm/10.9.2 node/v23.11.0 darwin arm64 workspaces/false",
        "HOMEBREW_CELLAR": "/opt/homebrew/Cellar",
        "INFOPATH": "/opt/homebrew/share/info:/opt/homebrew/share/info:",
        "OSLogRateLimit": "64",
        "VSCODE_CWD": "/",
        "VSCODE_L10N_BUNDLE_LOCATION": "",
        "npm_config_prefix": "/opt/homebrew",
        "npm_node_execpath": "/opt/homebrew/Cellar/node/23.11.0/bin/node",
        "LLM_FAKE": "1",
        "NODE_ENV": "test"
      }
    }
  },
  "suites": [
    {
      "title": "accept.spec.ts",
      "file": "accept.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [
        {
          "title": "accept finalizes: footer hides and final_thesis emitted",
          "ok": false,
          "tags": [],
          "tests": [
            {
              "timeout": 30000,
              "annotations": [],
              "expectedStatus": "passed",
              "projectId": "",
              "projectName": "",
              "results": [
                {
                  "workerIndex": 0,
                  "parallelIndex": 0,
                  "status": "timedOut",
                  "duration": 30027,
                  "error": {
                    "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m",
                    "stack": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                  },
                  "errors": [
                    {
                      "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                    },
                    {
                      "location": {
                        "file": "/Users/rahulvijayan/Query/convexia-query/tests/e2e/accept.spec.ts",
                        "column": 53,
                        "line": 6
                      },
                      "message": "Error: locator.click: Test timeout of 30000ms exceeded.\nCall log:\n\u001b[2m  - waiting for getByRole('button', { name: 'Start' })\u001b[22m\n\u001b[2m    - locator resolved to <button disabled class=\"border px-3 py-2 bg-primary text-primary-foreground\">Start</button>\u001b[22m\n\u001b[2m  - attempting click action\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m    - waiting 20ms\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m      - waiting 100ms\u001b[22m\n\u001b[2m    57 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m       - element is not enabled\u001b[22m\n\u001b[2m     - retrying click action\u001b[22m\n\u001b[2m       - waiting 500ms\u001b[22m\n\n\n  4 |   await page.goto('/research')\n  5 |   await page.getByPlaceholder('Type your research query…').fill('Accept flow check')\n> 6 |   await page.getByRole('button', { name: 'Start' }).click()\n    |                                                     ^\n  7 |   await expect(page.getByText(/^Thesis \\(/)).toBeVisible({ timeout: 45000 })\n  8 |   await page.getByRole('button', { name: 'Accept' }).click()\n  9 |   await expect(page.getByRole('button', { name: 'Accept' })).toBeHidden({ timeout: 5000 })\n    at /Users/rahulvijayan/Query/convexia-query/tests/e2e/accept.spec.ts:6:53"
                    }
                  ],
                  "stdout": [],
                  "stderr": [],
                  "retry": 0,
                  "startTime": "2025-09-26T19:49:14.602Z",
                  "annotations": [],
                  "attachments": [
                    {
                      "name": "error-context",
                      "contentType": "text/markdown",
                      "path": "/Users/rahulvijayan/Query/convexia-query/test-results/accept-accept-finalizes-fo-2d991-es-and-final-thesis-emitted/error-context.md"
                    }
                  ]
                }
              ],
              "status": "unexpected"
            }
          ],
          "id": "04b8237c7a3f54ddd905-ad27d012c25e5d359a8a",
          "file": "accept.spec.ts",
          "line": 3,
          "column": 5
        },
        {
          "title": "no duplicate clarifying questions on reconnect",
          "ok": false,
          "tags": [],
          "tests": [
            {
              "timeout": 30000,
              "annotations": [],
              "expectedStatus": "passed",
              "projectId": "",
              "projectName": "",
              "results": [
                {
                  "workerIndex": 2,
                  "parallelIndex": 0,
                  "status": "timedOut",
                  "duration": 30028,
                  "error": {
                    "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m",
                    "stack": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                  },
                  "errors": [
                    {
                      "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                    },
                    {
                      "location": {
                        "file": "/Users/rahulvijayan/Query/convexia-query/tests/e2e/accept.spec.ts",
                        "column": 53,
                        "line": 16
                      },
                      "message": "Error: locator.click: Test timeout of 30000ms exceeded.\nCall log:\n\u001b[2m  - waiting for getByRole('button', { name: 'Start' })\u001b[22m\n\u001b[2m    - locator resolved to <button disabled class=\"border px-3 py-2 bg-primary text-primary-foreground\">Start</button>\u001b[22m\n\u001b[2m  - attempting click action\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m    - waiting 20ms\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m      - waiting 100ms\u001b[22m\n\u001b[2m    57 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m       - element is not enabled\u001b[22m\n\u001b[2m     - retrying click action\u001b[22m\n\u001b[2m       - waiting 500ms\u001b[22m\n\n\n  14 |   await page.goto('/research')\n  15 |   await page.getByPlaceholder('Type your research query…').fill('Reconnect dedupe test')\n> 16 |   await page.getByRole('button', { name: 'Start' }).click()\n     |                                                     ^\n  17 |   await expect(page.getByText('Clarifying Questions')).toBeVisible({ timeout: 30000 })\n  18 |   await page.reload()\n  19 |   await page.getByPlaceholder('Type your research query…').fill('Reconnect dedupe test')\n    at /Users/rahulvijayan/Query/convexia-query/tests/e2e/accept.spec.ts:16:53"
                    }
                  ],
                  "stdout": [],
                  "stderr": [],
                  "retry": 0,
                  "startTime": "2025-09-26T19:49:45.272Z",
                  "annotations": [],
                  "attachments": [
                    {
                      "name": "error-context",
                      "contentType": "text/markdown",
                      "path": "/Users/rahulvijayan/Query/convexia-query/test-results/accept-no-duplicate-clarifying-questions-on-reconnect/error-context.md"
                    }
                  ]
                }
              ],
              "status": "unexpected"
            }
          ],
          "id": "04b8237c7a3f54ddd905-41aa349b03cbb1322f8f",
          "file": "accept.spec.ts",
          "line": 13,
          "column": 5
        }
      ]
    },
    {
      "title": "research.spec.ts",
      "file": "research.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [
        {
          "title": "happy path: progress → questions → thesis → sources",
          "ok": false,
          "tags": [],
          "tests": [
            {
              "timeout": 30000,
              "annotations": [],
              "expectedStatus": "passed",
              "projectId": "",
              "projectName": "",
              "results": [
                {
                  "workerIndex": 1,
                  "parallelIndex": 1,
                  "status": "timedOut",
                  "duration": 30026,
                  "error": {
                    "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m",
                    "stack": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                  },
                  "errors": [
                    {
                      "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                    },
                    {
                      "location": {
                        "file": "/Users/rahulvijayan/Query/convexia-query/tests/e2e/research.spec.ts",
                        "column": 53,
                        "line": 6
                      },
                      "message": "Error: locator.click: Test timeout of 30000ms exceeded.\nCall log:\n\u001b[2m  - waiting for getByRole('button', { name: 'Start' })\u001b[22m\n\u001b[2m    - locator resolved to <button disabled class=\"border px-3 py-2 bg-primary text-primary-foreground\">Start</button>\u001b[22m\n\u001b[2m  - attempting click action\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m    - waiting 20ms\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m      - waiting 100ms\u001b[22m\n\u001b[2m    57 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m       - element is not enabled\u001b[22m\n\u001b[2m     - retrying click action\u001b[22m\n\u001b[2m       - waiting 500ms\u001b[22m\n\n\n  4 |   await page.goto('/research')\n  5 |   await page.getByPlaceholder('Type your research query…').fill('ACME asset strategy')\n> 6 |   await page.getByRole('button', { name: 'Start' }).click()\n    |                                                     ^\n  7 |   // initial progress messages may be coalesced in test mode; relax this check\n  8 |   await expect(page.getByText('Clarifying Questions')).toBeVisible({ timeout: 30000 })\n  9 |   await expect(page.getByText(/^Thesis \\(/)).toBeVisible({ timeout: 45000 })\n    at /Users/rahulvijayan/Query/convexia-query/tests/e2e/research.spec.ts:6:53"
                    }
                  ],
                  "stdout": [],
                  "stderr": [],
                  "retry": 0,
                  "startTime": "2025-09-26T19:49:14.602Z",
                  "annotations": [],
                  "attachments": [
                    {
                      "name": "error-context",
                      "contentType": "text/markdown",
                      "path": "/Users/rahulvijayan/Query/convexia-query/test-results/research-happy-path-progress-→-questions-→-thesis-→-sources/error-context.md"
                    }
                  ]
                }
              ],
              "status": "unexpected"
            }
          ],
          "id": "cdcdb9c009151254af97-8d6b0013f09901983ce0",
          "file": "research.spec.ts",
          "line": 3,
          "column": 5
        },
        {
          "title": "reject requires reason + ≥20 chars; then version++",
          "ok": false,
          "tags": [],
          "tests": [
            {
              "timeout": 30000,
              "annotations": [],
              "expectedStatus": "passed",
              "projectId": "",
              "projectName": "",
              "results": [
                {
                  "workerIndex": 3,
                  "parallelIndex": 1,
                  "status": "timedOut",
                  "duration": 30029,
                  "error": {
                    "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m",
                    "stack": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                  },
                  "errors": [
                    {
                      "message": "\u001b[31mTest timeout of 30000ms exceeded.\u001b[39m"
                    },
                    {
                      "location": {
                        "file": "/Users/rahulvijayan/Query/convexia-query/tests/e2e/research.spec.ts",
                        "column": 53,
                        "line": 16
                      },
                      "message": "Error: locator.click: Test timeout of 30000ms exceeded.\nCall log:\n\u001b[2m  - waiting for getByRole('button', { name: 'Start' })\u001b[22m\n\u001b[2m    - locator resolved to <button disabled class=\"border px-3 py-2 bg-primary text-primary-foreground\">Start</button>\u001b[22m\n\u001b[2m  - attempting click action\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m    - waiting 20ms\u001b[22m\n\u001b[2m    2 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m      - element is not enabled\u001b[22m\n\u001b[2m    - retrying click action\u001b[22m\n\u001b[2m      - waiting 100ms\u001b[22m\n\u001b[2m    57 × waiting for element to be visible, enabled and stable\u001b[22m\n\u001b[2m       - element is not enabled\u001b[22m\n\u001b[2m     - retrying click action\u001b[22m\n\u001b[2m       - waiting 500ms\u001b[22m\n\n\n  14 |   await page.goto('/research')\n  15 |   await page.getByPlaceholder('Type your research query…').fill('Broad query')\n> 16 |   await page.getByRole('button', { name: 'Start' }).click()\n     |                                                     ^\n  17 |   await expect(page.getByText('Clarifying Questions')).toBeVisible({ timeout: 30000 })\n  18 |   await page.getByRole('button', { name: 'Reject' }).click()\n  19 |   await expect(page.getByRole('button', { name: 'Submit' })).toBeDisabled({ timeout: 2000 })\n    at /Users/rahulvijayan/Query/convexia-query/tests/e2e/research.spec.ts:16:53"
                    }
                  ],
                  "stdout": [],
                  "stderr": [],
                  "retry": 0,
                  "startTime": "2025-09-26T19:49:45.266Z",
                  "annotations": [],
                  "attachments": [
                    {
                      "name": "error-context",
                      "contentType": "text/markdown",
                      "path": "/Users/rahulvijayan/Query/convexia-query/test-results/research-reject-requires-reason-≥20-chars-then-version-/error-context.md"
                    }
                  ]
                }
              ],
              "status": "unexpected"
            }
          ],
          "id": "cdcdb9c009151254af97-f4b9ef399c37fced184c",
          "file": "research.spec.ts",
          "line": 13,
          "column": 5
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-09-26T19:49:13.963Z",
    "duration": 61499.052,
    "expected": 0,
    "skipped": 0,
    "unexpected": 4,
    "flaky": 0
  }
}